# 발주 자동화 시스템 개발 작업계획표

> AI 개발 참고용 - 정적 웹(HTML/CSS/JS) 기반 구현

---

## 프로젝트 개요

| 항목 | 내용 |
|------|------|
| **목적** | 스마트스토어 주문서 → 택배사 발주서 자동 변환 |
| **기술스택** | HTML, CSS, JavaScript (순수, 프레임워크 없음) |
| **라이브러리** | SheetJS (xlsx 파싱/생성) |
| **배포** | 정적 웹호스팅 (서버 불필요) |

---

## 작업 단계

### Phase 1: 엑셀 파싱 및 데이터 구조화
- [ ] 스마트스토어 주문서 업로드 UI
- [ ] SheetJS로 xlsx/csv 파싱
- [ ] 상품DB 매핑 (상품번호 → 디자인, 폭, 두께, 길이)

### Phase 2: 패킹 알고리즘 구현
- [ ] 동일 수취인 그룹화 (이름+주소+연락처)
- [ ] 롤매트 ↔ 퍼즐매트 분리
- [ ] 포장 방식 결정 (비닐/박스/합포장)
- [ ] 박스 카운팅 및 N-n 라벨링
- [ ] ★마킹 (파손주의)

### Phase 3: 출력 생성
- [ ] 경동택배 발주서 양식 생성
- [ ] 로젠택배 양식 생성
- [ ] xlsx 파일 다운로드

### Phase 4: 부가 기능
- [ ] 사은품 대상자 표시 (20만원+, 30만원+)
- [ ] 재단요청 감지 (배송메세지 키워드)
- [ ] 결과 미리보기 UI

---

## 핵심 로직 참조

### 포장 방식 결정
```
if (제품타입 === "퍼즐") → 비닐
else if (롤매트 && 길이 >= 8m) → 비닐 + ★마킹
else if (소형/테이프) → 합포장 (합 표시)
else → 박스
```

### N-n 라벨링
```
같은 수취인에게 복수 박스 → "N-n 수취인명" 형식
예: 4-1홍길동, 4-2홍길동, 4-3홍길동, 4-4홍길동
```

### 마킹 규칙
| 마킹 | 조건 |
|------|------|
| `★` (이름 뒤) | 비닐포장 대상 (대형 롤) |
| `합` (비고) | 다른 박스에 합포장 |

---

## 입출력 형식

### 입력
- 파일: `스마트스토어_전체주문발주발송관리_YYYYMMDD_HHMM.xlsx`
- 주요 컬럼: 상품주문번호, 수취인명, 주소, 연락처, 상품번호, 옵션정보, 수량, 배송메세지

### 출력
1. **경동택배용**: 받는분, 주소, 상세주소, 우편번호, 전화번호, 품목명, 수량, 포장상태
2. **로젠택배용**: 받는분, 전화번호, 주소, 디자인+수량, 배송메세지

---

## 참조 문서

- [패킹 알고리즘 개괄](./발주%20프로그램기획/패킹%20알고리즘%20개괄.md)
- [제품 정보 및 스펙](./발주%20프로그램기획/따사룸%20제품%20정보%20및%20스펙.md)
- [개발 명세서](./발주%20프로그램기획/추가_확인사항.md)
- [발주담당자 데이터 분석](./조은란%20D%20제공자료에%20대한%20주석.md)

---

## 기존 코드

현재 `app.js`에 일부 구현되어 있음. 최신 패킹 로직(N-n 라벨링, ★마킹)으로 업데이트 필요.

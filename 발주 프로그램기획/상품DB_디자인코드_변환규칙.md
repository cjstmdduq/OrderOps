# 상품DB → 디자인 코드 변환 규칙

> AI 프롬프팅용 - 옵션정보에서 디자인 코드 추출 스타일링 규칙

---

## 개요

스마트스토어 **옵션정보**(원본)를 발주서용 **디자인 코드**(변환)로 스타일링하는 규칙.

```
[원본] "⚡강세일⚡디자인 선택: 마블아이보리 / 두께(폭): 9mm(폭140cm) / 길이(수량추가): 50cm"
         ↓ 변환
[결과] "(140)9T마블아이보리"
```

---

## 변환 규칙

### 1. 롤매트 디자인 코드 형식

```
(폭)두께T디자인명
```

| 요소 | 추출 위치 | 예시 |
|------|----------|------|
| **폭** | `폭XXXcm` 에서 숫자 추출 | 110, 120, 140 |
| **두께** | `Xmm` 에서 숫자 추출 | 6, 9, 12, 17, 22 |
| **디자인명** | `디자인 선택: XXX` 에서 추출 | 마블아이보리, 퓨어아이보리 |

#### 변환 예시

| 원본 옵션정보 | 변환 결과 |
|--------------|----------|
| `디자인 선택: 마블아이보리 / 두께(폭): 9mm(폭140cm)` | `(140)9T마블아이보리` |
| `디자인 선택: 퓨어아이보리 / 두께(폭): 17mm(폭110cm)` | `(110)17T퓨어아이보리` |
| `디자인 선택: 그레이캔버스 / 두께(폭): 6mm(폭120cm)` | `(120)6T그레이캔버스` |

#### 이모지/프로모션 문구 제거

원본에 포함된 프로모션 문구는 제거:
- `⚡강세일⚡` → 제거
- `⛄홀리데이⛄` → 제거
- `[특가]`, `[할인]` 등 → 제거

---

### 2. 퍼즐매트 디자인 코드 형식

```
두께T(퍼즐)색상(사이즈)
```

| 요소 | 추출 위치 | 예시 |
|------|----------|------|
| **두께** | `(XXmm)` 에서 숫자 추출 | 25, 40 |
| **색상** | `색상: XXX` 에서 추출 | 아이보리, 그레이, 블루, 핑크 |
| **사이즈** | `100x100` 또는 `50x50` | 100, 50 |

#### 변환 예시

| 원본 옵션정보 | 변환 결과 |
|--------------|----------|
| `색상: 바닐라아이보리 / (두께)사이즈: (25mm) 100x100` | `25T(퍼즐)아이보리(100)` |
| `색상: 바닐라아이보리 / (두께)사이즈: (40mm) 50x50` | `40T(퍼즐)아이보리(50)` |
| `색상: 라이트그레이 / (두께)사이즈: (25mm) 100x100` | `25T(퍼즐)그레이(100)` |

#### 색상 축약 규칙

| 원본 색상명 | 축약 |
|------------|------|
| 바닐라아이보리 | 아이보리 |
| 라이트그레이 | 그레이 |
| 스카이블루 | 블루 |
| 파스텔핑크 | 핑크 |

---

### 3. 퍼즐매트 PLUS+ 형식

```
플러스♥두께T색상축약(사이즈)
```

#### 변환 예시

| 원본 옵션정보 | 변환 결과 |
|--------------|----------|
| `✨퍼즐매트 PLUS+✨ / 색상: 바닐라아이보리 / (25mm) 100x100` | `플러스♥25T아이(100)` |

---

### 4. 접이매트(폴딩매트) 형식

```
디자인명 사이즈 [가로x세로 두께T]
```

#### 변환 예시

| 원본 옵션정보 | 변환 결과 |
|--------------|----------|
| `디자인: 패브릭트윈 / 사이즈: XL [240x140 12T]` | `패브릭트윈 XL [240x140 12T]` |
| `디자인: 더블우드 / 사이즈: L [200x140 12T]` | `더블우드 L [200x140 12T]` |
| `디자인: 젤라빈 / 사이즈: S [180x70 12T]` | `젤라빈 S [180x70 12T]` |

---

### 5. 벽지매트 형식

```
두께T벽지:디자인명
```

#### 변환 예시

| 원본 옵션정보 | 변환 결과 |
|--------------|----------|
| `디자인: 로지 / 벽지종류: 두께10mm / 폭1m (고급형)` | `10T벽지:로지` |
| `디자인: 스폿그레이 / 벽지종류: 두께5mm / 폭1m (일반형)` | `5T벽지:스폿그레이` |

---

### 6. 사은품/테이프 형식

```
★판매★테이프XXm
★증정★테이프XXm
```

#### 변환 예시

| 원본 옵션정보 | 변환 결과 |
|--------------|----------|
| `[G001]매트접합용 실리콘테이프: [G001]20m` | `★판매★테이프20m` |
| (사은품으로 지급 시) | `★증정★테이프20mx1` |

---

## 길이 변환 규칙

### 길이 표기

| 원본 | 변환 |
|------|------|
| `50cm` | `0.5m` |
| `100cm` | `1m` |
| `150cm` | `1.5m` |
| ... | ... |
| `800cm` | `8m` |

### 길이+수량 병합 (송장화2용)

```
디자인코드길이mx수량
```

예시: `(140)17T퓨어아이보리8mx1`

---

## 제품 타입 식별

| 상품번호 | 제품 타입 |
|---------|----------|
| `4200445704` | 애견 롤매트 |
| `6092903705` | 유아 롤매트 |
| `5994906898` | 퍼즐매트 |
| `2402587673` | 접이매트 |
| `282153807` | 벽지매트 |

---

## 의사코드 (파싱 로직)

```javascript
function parseDesignCode(optionInfo, productId) {
  // 프로모션 문구 제거
  let clean = optionInfo.replace(/⚡[^⚡]+⚡|⛄[^⛄]+⛄|✨[^✨]+✨/g, '').trim();
  
  // 제품 타입별 분기
  if (productId === '5994906898') {
    return parsePuzzle(clean);
  } else if (productId === '2402587673') {
    return parseFolding(clean);
  } else if (productId === '282153807') {
    return parseWallpaper(clean);
  } else {
    return parseRollMat(clean);
  }
}

function parseRollMat(optionInfo) {
  const width = optionInfo.match(/폭(\d+)cm/)?.[1];      // 110, 120, 140
  const thickness = optionInfo.match(/(\d+)mm/)?.[1];   // 6, 9, 12, 17, 22
  const design = optionInfo.match(/디자인[^:]*:\s*([^\s\/]+)/)?.[1];
  
  return `(${width})${thickness}T${design}`;
}

function parsePuzzle(optionInfo) {
  const thickness = optionInfo.match(/\((\d+)mm\)/)?.[1];  // 25, 40
  const color = shortenColor(optionInfo.match(/색상:\s*([^\s\/]+)/)?.[1]);
  const size = optionInfo.includes('100x100') ? '100' : '50';
  
  if (optionInfo.includes('PLUS+')) {
    return `플러스♥${thickness}T${color}(${size})`;
  }
  return `${thickness}T(퍼즐)${color}(${size})`;
}
```

---

## 참고 파일

- 원본 상품DB: `251216 엑셀작업.xlsx` → `상품DB(수정x)` 시트
